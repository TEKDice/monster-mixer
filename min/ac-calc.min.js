function _getArmorBonus(a){var b={};if(isset(a.marmor[0])){b[a.marmor[0]["aname"]]=parseInt(a.marmor[0]["ac_bonus"])}if(isset(a.marmor[1])){b[a.marmor[1]["aname"]]=parseInt(a.marmor[1]["ac_bonus"])}return b}function getFlatac(a){var d={Base:10};var b=parseInt(a.data[0]["natural_ac"]);var c=parseInt(a.data[0]["insight"]);var g=parseInt(a.data[0]["deflection"]);var e=getBonus(a.data[0]["dex"]);var f=_getSizeModifier(a.data[0]["size"]);if(b!=0){d["Natural AC"]=b}if(c!=0){d["Insight AC"]=c}if(g!=0){d["Deflection AC"]=g}if(e>0){d["DEX Bonus"]=e}if(f!=0){d["Size Mod"]=f}d=collect(d,_getArmorBonus(a));return d}function getTouchac(a){return _baseAc(a)}function getAc(a){var d={};var b=parseInt(a.data[0]["natural_ac"]);var c=parseInt(a.data[0]["insight"]);var e=parseInt(a.data[0]["deflection"]);if(b!=0){d["Natural AC"]=b}if(c!=0){d["Insight AC"]=c}if(e!=0){d["Deflection AC"]=e}d=collect(d,_baseAc(a),_getArmorBonus(a));return d}function _baseAc(a){var b={Base:10};var c=getBonus(a.data[0]["dex"]);var d=_getSizeModifier(a.data[0]["size"]);if(c!=0){b["DEX Bonus"]=c}if(d!=0){b["Size Mod"]=d}return b}function _getSizeModifier(a){switch(a){case 10:case"Fine":return 8;case 9:case"Diminutive":return 4;case 6:case"Tiny":return 2;case 1:case"Small":return 1;case 2:case"Medium":return 0;case 3:case"Large":return -1;case 5:case"Huge":return -2;case 7:case"Gargantuan":return -4;case 8:case"Colossal":return -8}}function isset(a){return a!=undefined&&a.length!=0};